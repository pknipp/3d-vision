import React, { Component } from 'react';
import { Redirect } from 'react-router-dom';
import { connect } from 'react-redux';
//import { Button } from '@material-ui/core';
import Class from "./Class";

class NotMyClassList extends Component {
  render() {
    const props = this.props;
    let classes = Object.keys(props.classes).map(classId => props.classes[classId]);
    const notMyClasses = classes.filter(course => !course.subscribed)
    return (!props.user) ? <Redirect to="/login" /> : (
      (!notMyClasses) ? `All classes are now in your library.` : (
        <ul>
          {notMyClasses.map(course => <Class {...course} key={course.id} />)}
        </ul>
      )
    )
  }
}

const msp = state => ({ user: state.authentication, classes: state.classes });
//const mdp = dispatch=>({ fetchClasses: () => dispatch(fetchClasses())})
export default connect(msp)(NotMyClassList);
